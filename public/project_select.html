<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find Crops</title>
</head>
<body>
    <!-- ===================================================================================== -->
    <!-- Database Connection Status -->
    <h1>Database Connection Status: 
        <span id="dbStatus"> </span>
        <img id="loadingGif" class="loading-gif" src="loading_100px.gif" alt="Loading...">
    </h1>

    <br><hr><br> <!-- ========================================================================= -->
    <h1>Farm Management System</h1>
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="crops_by_farm.html">Find Crops By Farm</a></li>
            <li><a href="project_select.html">Filter Fields</a></li>
        </ul>
    </nav>
    <br><hr><br> <!-- ========================================================================= -->

    <h2>Choose what columns you want to see:</h2>
    <form id="projectionForm" onsubmit="fetchProjection(event)">

        <label><input type="checkbox" name="projectionField" value="FarmID"> Farm ID</label><br>
        <label><input type="checkbox" name="projectionField" value="FieldID"> Field ID</label><br>
        <label><input type="checkbox" name="projectionField" value="Area"> Area</label><br>

        <button type="submit">Run Projection</button>

        <p id="projectionMsg"></p>
    </form>
    <table id="projectionTable" border="1">
        <thead></thead>
        <tbody></tbody>
    </table>
    
    <br><hr><br> <!-- ========================================================================= -->

    <h2>Selection on ContainsFields</h2>
    <p>Please note: SQL will perform all AND operations before OR operations</p>
    <form id="selectionForm" onsubmit="fetchSelection(event)">

        <div id="conditionsContainer"></div>

        <button type="button" onclick="addCondition()">Add Condition</button>
        <button type="submit">Run Selection</button>

        <p id="selectionMsg"></p>

    </form>

    <table id="selectionTable" border="1">
        <thead><tr></tr></thead>
        <tbody></tbody>
    </table>

    <br><hr><br> <!-- ========================================================================= -->
    <h2>Average Irrigation Volume per Field</h2>

    <button id="averageVolume">Show Average Irrigation Volume</button>
    <p id="averageVolumeMsg"></p>

    <table id="averageVolumeTable" border="1">
        <thead>
            <tr>
                <th>Field ID</th>
                <th>Farm Name</th>
                <th>Average Volume</th>
            </tr>
        </thead>
        <tbody>
            <!-- table rows inserted dynamically HERE -->
        </tbody>
    </table>

    <br><hr><br> <!-- ========================================================================= -->
    <h2>All Healthy Field</h2>
    <p>Healthy Fields are defined by fields where pH is beteween 5.5 and 7.5</p>

    <button id="healthyFields">Show Healthy Fields</button>
    <p id="healthyFieldMsg"></p>

    <table id="healthyFieldTable" border="1">
        <thead>
            <tr>
                <th>Field ID</th>
                <th>Farm Name</th>
                <th>Average pH</th>
            </tr>
        </thead>
        <tbody>
            <!-- table rows inserted dynamically HERE -->
        </tbody>
    </table>

    <!-- ===================================================================================== -->
    <!-- External JavaScript file that contains the functionality/logic for the operations above. -->
    <script src="scripts.js"></script>
</body>
</html>